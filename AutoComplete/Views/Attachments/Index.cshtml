@model IEnumerable<AutoComplete.Models.Attachments>

@{
    ViewBag.Title = "Index";
    Layout = null;
}

<h2>All Attachments</h2>
<table border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td>Upload Item :
        </td>
        <td><input name="attachments" id="attachments" type="file" /></td>
    </tr>
</table>

<script type="text/javascript">

    $(document).ready(function () {
        $("#attachments").kendoUpload({
            async: {
                saveUrl: '@Url.Action("Save")',
                removeUrl: '@Url.Action("Remove")',
                autoUpload: true
            },
            success: onSuccess
        });

    });
    function onSuccess(e) {
        alert("Successfully uploaded");
    }
</script>



<table class="CSSTableGenerator">
    <tr>
        <td>
            person
        </td>
        <td>
            title
        </td>
        <td>
            path
        </td>
        
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.person.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.title)
        </td>
        <td>
            <a href="@Url.Content("~/Attachments/"+ item.path)" target="_blank">@Html.DisplayFor(modelItem => item.path)</a>  
        </td>
        
    </tr>
}

</table>
